<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a365d">
    <meta name="description" content="Mobile Car Wash & Garage Services in Dubai, Sharjah, and Ajman. Book your car wash service today!">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mobile Garage">
    <title>Mobile Garage - Car Wash & Services</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icons/icon.svg">
    <link rel="apple-touch-icon" href="icons/icon.svg">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Lottie for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" defer></script>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div id="splash-animation" class="splash-logo">
                <svg viewBox="0 0 120 120" class="splash-icon">
                    <circle cx="60" cy="60" r="56" fill="#1a365d" class="splash-circle"/>
                    <g class="splash-car">
                        <path d="M35 55h50c3 0 6 3 6 6v12c0 3-3 6-6 6H35c-3 0-6-3-6-6V61c0-3 3-6 6-6z" fill="#fff"/>
                        <circle cx="40" cy="79" r="7" fill="#fff"/>
                        <circle cx="80" cy="79" r="7" fill="#fff"/>
                        <circle cx="40" cy="79" r="3.5" fill="#1a365d"/>
                        <circle cx="80" cy="79" r="3.5" fill="#1a365d"/>
                    </g>
                    <g class="splash-drops">
                        <path d="M50 25c-3 6-9 9-9 15s6 9 9 3c3-6 9-9 9-15s-6-9-9-3z" fill="#4299e1" class="drop drop-1"/>
                        <path d="M70 30c-2.5 5-7.5 7.5-7.5 12.5s5 7.5 7.5 2.5c2.5-5 7.5-7.5 7.5-12.5s-5-7.5-7.5-2.5z" fill="#4299e1" class="drop drop-2"/>
                        <path d="M55 35c-2 4-6 6-6 10s4 6 6 2c2-4 6-6 6-10s-4-6-6-2z" fill="#4299e1" class="drop drop-3"/>
                    </g>
                </svg>
            </div>
            <h1 class="splash-title">Mobile Garage</h1>
            <p class="splash-tagline">Car Wash & Services</p>
            <div class="splash-loader">
                <div class="splash-loader-bar"></div>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Progress Indicator -->
        <div id="progress-indicator" class="progress-indicator hidden">
            <div class="progress-steps">
                <div class="progress-step" data-step="1">
                    <div class="step-dot"></div>
                    <span>Service</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="2">
                    <div class="step-dot"></div>
                    <span>Package</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="3">
                    <div class="step-dot"></div>
                    <span>Location</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="4">
                    <div class="step-dot"></div>
                    <span>Payment</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="5">
                    <div class="step-dot"></div>
                    <span>Confirm</span>
                </div>
            </div>
        </div>

        <!-- Screen 1: Phone Entry -->
        <section id="screen-phone" class="screen active">
            <div class="screen-content">
                <div class="logo-section">
                    <div class="logo">
                        <svg viewBox="0 0 64 64" class="logo-icon">
                            <circle cx="32" cy="32" r="30" fill="#1a365d"/>
                            <path d="M20 28h24c2 0 4 2 4 4v8c0 2-2 4-4 4H20c-2 0-4-2-4-4v-8c0-2 2-4 4-4z" fill="#fff"/>
                            <circle cx="22" cy="44" r="4" fill="#1a365d"/>
                            <circle cx="42" cy="44" r="4" fill="#1a365d"/>
                            <path d="M24 32h16v4H24z" fill="#1a365d" opacity="0.3"/>
                        </svg>
                    </div>
                    <h1>Mobile Garage</h1>
                    <p class="tagline">Car Wash & Services at Your Doorstep</p>
                </div>

                <div class="form-section">
                    <label class="input-label">Enter your phone number</label>
                    <div class="phone-input-wrapper">
                        <div class="country-code">
                            <span class="flag">ðŸ‡¦ðŸ‡ª</span>
                            <span>+971</span>
                        </div>
                        <input type="tel" id="phone-input" placeholder="5X XXX XXXX" maxlength="11" inputmode="numeric">
                    </div>
                    <p id="phone-error" class="error-message"></p>

                    <button id="btn-send-otp" class="btn btn-primary" disabled>Send OTP</button>
                    <button id="btn-guest" class="btn btn-secondary">Continue as Guest</button>
                </div>

                <div class="support-link">
                    <p>Need help? <a href="https://wa.me/971554995611" target="_blank">WhatsApp Us</a></p>
                </div>
            </div>
        </section>

        <!-- Screen 2: OTP Verification -->
        <section id="screen-otp" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-phone')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="otp-section">
                    <h2>Verify Your Number</h2>
                    <p class="subtitle">Enter the 4-digit code sent to<br><strong id="otp-phone-display">+971 XX XXX XXXX</strong></p>

                    <div class="otp-inputs">
                        <input type="tel" maxlength="1" inputmode="numeric" class="otp-digit" data-index="0">
                        <input type="tel" maxlength="1" inputmode="numeric" class="otp-digit" data-index="1">
                        <input type="tel" maxlength="1" inputmode="numeric" class="otp-digit" data-index="2">
                        <input type="tel" maxlength="1" inputmode="numeric" class="otp-digit" data-index="3">
                    </div>
                    <p id="otp-error" class="error-message"></p>

                    <button id="btn-verify-otp" class="btn btn-primary" disabled>Verify</button>

                    <p class="resend-text">Didn't receive code? <button id="btn-resend" class="btn-link" disabled>Resend in <span id="resend-timer">30</span>s</button></p>
                </div>
            </div>
        </section>

        <!-- Screen 3: Home/Services (Main Screen after login) -->
        <section id="screen-home" class="screen has-navbar">
            <div class="screen-content">
                <!-- Welcome Header -->
                <div class="home-header">
                    <div class="welcome-text">
                        <p class="greeting" id="greeting-text">Good Morning</p>
                        <h2 id="user-name">Welcome!</h2>
                    </div>
                    <button class="notification-btn" onclick="goToScreen('screen-notifications')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                        <span class="notification-badge" id="notification-count">2</span>
                    </button>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="quick-action-card" onclick="startNewBooking()">
                        <div class="quick-action-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        </div>
                        <span>New Booking</span>
                    </div>
                    <div class="quick-action-card" onclick="goToScreen('screen-track')">
                        <div class="quick-action-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        </div>
                        <span>Track</span>
                    </div>
                    <div class="quick-action-card" onclick="goToScreen('screen-offers')">
                        <div class="quick-action-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/></svg>
                        </div>
                        <span>Offers</span>
                    </div>
                    <div class="quick-action-card" onclick="window.open('https://wa.me/971554995611', '_blank')">
                        <div class="quick-action-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#25d366" d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </div>
                        <span>Support</span>
                    </div>
                </div>

                <!-- Active Booking Card -->
                <div id="active-booking-section" class="active-booking-section hidden">
                    <h3>Active Booking</h3>
                    <div class="active-booking-card" onclick="goToScreen('screen-track')">
                        <div class="booking-status-indicator">
                            <div class="status-pulse"></div>
                        </div>
                        <div class="active-booking-info">
                            <span class="active-booking-ref" id="active-ref">MG-XXXXXX</span>
                            <p id="active-status">Washer on the way</p>
                            <p class="active-eta" id="active-eta">ETA: 15 mins</p>
                        </div>
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>

                <!-- Services Section -->
                <div class="section-header">
                    <h3>Our Services</h3>
                </div>
                <div class="service-cards home-services">
                    <div class="service-card active" onclick="startNewBooking()">
                        <div class="service-icon">
                            <svg viewBox="0 0 64 64" width="48" height="48">
                                <path fill="#1a365d" d="M52 28H12l4-12h32l4 12z"/>
                                <rect fill="#1a365d" x="8" y="28" width="48" height="20" rx="4"/>
                                <circle fill="#fff" cx="18" cy="48" r="6"/>
                                <circle fill="#fff" cx="46" cy="48" r="6"/>
                                <circle fill="#1a365d" cx="18" cy="48" r="3"/>
                                <circle fill="#1a365d" cx="46" cy="48" r="3"/>
                                <path fill="#4299e1" d="M28 8c-2 4-6 6-6 10s4 6 6 2c2-4 6-6 6-10s-4-6-6-2z" opacity="0.8"/>
                            </svg>
                        </div>
                        <h3>Car Wash</h3>
                        <p>Professional cleaning at your location</p>
                        <span class="service-price">From 45 AED</span>
                    </div>

                    <div class="service-card disabled">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <div class="service-icon">
                            <svg viewBox="0 0 64 64" width="48" height="48">
                                <rect fill="#a0aec0" x="8" y="20" width="48" height="32" rx="4"/>
                                <rect fill="#718096" x="14" y="26" width="16" height="12" rx="2"/>
                                <circle fill="#718096" cx="44" cy="32" r="6"/>
                            </svg>
                        </div>
                        <h3>Mobile Garage</h3>
                        <p>Repairs & maintenance services</p>
                    </div>
                </div>

                <!-- Recent Bookings -->
                <div class="section-header">
                    <h3>Recent Bookings</h3>
                    <button class="btn-link" onclick="goToScreen('screen-history')">View All</button>
                </div>
                <div id="recent-bookings" class="recent-bookings">
                    <!-- Will be populated dynamically -->
                </div>
            </div>
        </section>

        <!-- Screen: Service Selection (for booking flow) -->
        <section id="screen-services" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-home')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Choose Service</h2>
                    <p class="subtitle">What would you like today?</p>
                </div>

                <div class="service-cards">
                    <div class="service-card active" onclick="selectService('carwash')">
                        <div class="service-icon">
                            <svg viewBox="0 0 64 64" width="48" height="48">
                                <path fill="#1a365d" d="M52 28H12l4-12h32l4 12z"/>
                                <rect fill="#1a365d" x="8" y="28" width="48" height="20" rx="4"/>
                                <circle fill="#fff" cx="18" cy="48" r="6"/>
                                <circle fill="#fff" cx="46" cy="48" r="6"/>
                                <circle fill="#1a365d" cx="18" cy="48" r="3"/>
                                <circle fill="#1a365d" cx="46" cy="48" r="3"/>
                                <path fill="#4299e1" d="M28 8c-2 4-6 6-6 10s4 6 6 2c2-4 6-6 6-10s-4-6-6-2z" opacity="0.8"/>
                                <path fill="#4299e1" d="M38 12c-1.5 3-4.5 4.5-4.5 7.5s3 4.5 4.5 1.5c1.5-3 4.5-4.5 4.5-7.5s-3-4.5-4.5-1.5z" opacity="0.6"/>
                            </svg>
                        </div>
                        <h3>Car Wash</h3>
                        <p>Professional cleaning at your location</p>
                    </div>

                    <div class="service-card disabled">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <div class="service-icon">
                            <svg viewBox="0 0 64 64" width="48" height="48">
                                <rect fill="#a0aec0" x="8" y="20" width="48" height="32" rx="4"/>
                                <rect fill="#718096" x="14" y="26" width="16" height="12" rx="2"/>
                                <circle fill="#718096" cx="44" cy="32" r="6"/>
                                <rect fill="#718096" x="14" y="42" width="8" height="6" rx="1"/>
                                <rect fill="#718096" x="26" y="42" width="8" height="6" rx="1"/>
                            </svg>
                        </div>
                        <h3>Mobile Garage</h3>
                        <p>Repairs & maintenance services</p>
                    </div>
                </div>

                <button id="btn-continue-service" class="btn btn-primary">Continue</button>
            </div>
        </section>

        <!-- Screen 4: Package Selection & Cars -->
        <section id="screen-packages" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-services')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Select Package</h2>
                    <p class="subtitle">Choose your car wash package</p>
                </div>

                <div id="cars-container">
                    <!-- Car entries will be added here dynamically -->
                </div>

                <button id="btn-add-car" class="btn btn-outline">
                    <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    Add Another Car
                </button>

                <!-- Recurring Booking Option -->
                <div class="recurring-option">
                    <label class="toggle-label">
                        <input type="checkbox" id="recurring-toggle">
                        <span class="toggle-switch"></span>
                        <span class="toggle-text">
                            <strong>Recurring Booking</strong>
                            <small>Schedule regular car washes</small>
                        </span>
                    </label>
                    <div id="recurring-options" class="recurring-options hidden">
                        <select id="recurring-frequency" class="select-input">
                            <option value="weekly">Every Week</option>
                            <option value="biweekly">Every 2 Weeks</option>
                            <option value="monthly">Every Month</option>
                        </select>
                    </div>
                </div>

                <div class="total-bar">
                    <span>Total</span>
                    <span id="total-price">0 AED</span>
                </div>

                <button id="btn-continue-packages" class="btn btn-primary" disabled>Continue</button>
            </div>
        </section>

        <!-- Screen 5: Location & Time -->
        <section id="screen-location" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-packages')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Location & Time</h2>
                    <p class="subtitle">Where and when should we come?</p>
                </div>

                <div class="form-group">
                    <label class="input-label">Your Location</label>
                    <button id="btn-get-location" class="btn btn-outline location-btn">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0 0 13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
                        Use Current Location
                    </button>
                    <p id="current-location-display" class="location-display"></p>
                </div>

                <!-- Favorite Locations -->
                <div id="favorite-locations" class="favorite-locations hidden">
                    <label class="input-label">Saved Locations</label>
                    <div id="favorites-list" class="favorites-list">
                        <!-- Favorites will be populated dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="input-label">Emirate</label>
                    <select id="emirate-select" class="select-input">
                        <option value="">Select Emirate</option>
                        <option value="dubai">Dubai</option>
                        <option value="sharjah">Sharjah</option>
                        <option value="ajman">Ajman</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="input-label">Address / Building Name</label>
                    <input type="text" id="address-input" class="text-input" placeholder="e.g., Marina Tower, Apartment 501">
                    <label class="save-favorite">
                        <input type="checkbox" id="save-as-favorite">
                        <span>Save as favorite location</span>
                    </label>
                </div>

                <div class="form-group">
                    <label class="input-label">Special Instructions (Optional)</label>
                    <textarea id="instructions-input" class="textarea-input" placeholder="e.g., Park in basement level 2, call when arriving"></textarea>
                </div>

                <div class="form-group">
                    <label class="input-label">Select Date</label>
                    <div id="date-picker" class="date-picker">
                        <!-- Dates will be generated dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="input-label">Select Time</label>
                    <div id="time-slots" class="time-slots">
                        <!-- Time slots will be generated dynamically -->
                    </div>
                </div>

                <button id="btn-continue-location" class="btn btn-primary" disabled>Continue</button>
            </div>
        </section>

        <!-- Screen 6: Payment Method -->
        <section id="screen-payment" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-location')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Payment Method</h2>
                    <p class="subtitle">How would you like to pay?</p>
                </div>

                <div class="payment-options">
                    <label class="payment-option">
                        <input type="radio" name="payment" value="cash">
                        <div class="payment-card">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"/></svg>
                            <span>Cash</span>
                        </div>
                    </label>

                    <label class="payment-option">
                        <input type="radio" name="payment" value="card">
                        <div class="payment-card">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
                            <span>Card Payment</span>
                        </div>
                    </label>

                    <label class="payment-option">
                        <input type="radio" name="payment" value="apple_pay">
                        <div class="payment-card">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M17.72 12.63c-.03-2.59 2.11-3.84 2.21-3.9-1.21-1.77-3.08-2.01-3.74-2.03-1.58-.16-3.11.94-3.91.94-.82 0-2.06-.92-3.39-.89-1.73.03-3.34 1.02-4.23 2.57-1.82 3.15-.46 7.79 1.29 10.34.87 1.25 1.9 2.65 3.24 2.6 1.31-.05 1.8-.84 3.38-.84 1.57 0 2.02.84 3.39.81 1.4-.02 2.29-1.26 3.13-2.52.99-1.44 1.41-2.86 1.43-2.93-.03-.01-2.74-1.05-2.77-4.18l-.03.03zM15.18 4.95c.71-.87 1.19-2.06 1.06-3.26-1.02.04-2.28.69-3.01 1.54-.66.76-1.24 1.99-1.09 3.16 1.15.09 2.32-.57 3.04-1.44z"/></svg>
                            <span>Apple Pay</span>
                        </div>
                    </label>

                    <label class="payment-option">
                        <input type="radio" name="payment" value="bank_transfer">
                        <div class="payment-card">
                            <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M4 10h3v7H4v-7zm6 0h3v7h-3v-7zm8-6L12 1 2 4v2h20V4zm-2 6h3v7h-3v-7zM2 22h20v-3H2v3z"/></svg>
                            <span>Bank Transfer</span>
                        </div>
                    </label>
                </div>

                <!-- Push Notification Opt-in -->
                <div class="notification-optin">
                    <label class="toggle-label">
                        <input type="checkbox" id="notification-toggle">
                        <span class="toggle-switch"></span>
                        <span class="toggle-text">
                            <strong>Booking Reminders</strong>
                            <small>Get notified before your appointment</small>
                        </span>
                    </label>
                </div>

                <button id="btn-continue-payment" class="btn btn-primary" disabled>Review Booking</button>
            </div>
        </section>

        <!-- Screen 7: Booking Summary -->
        <section id="screen-summary" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="goToScreen('screen-payment')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Booking Summary</h2>
                    <p class="subtitle">Review your booking details</p>
                </div>

                <div class="summary-section">
                    <h4>Cars & Packages</h4>
                    <div id="summary-cars"></div>
                </div>

                <div class="summary-section">
                    <h4>Location</h4>
                    <div id="summary-location"></div>
                </div>

                <div class="summary-section">
                    <h4>Date & Time</h4>
                    <div id="summary-datetime"></div>
                </div>

                <div id="summary-recurring" class="summary-section hidden">
                    <h4>Recurring</h4>
                    <div id="summary-recurring-text"></div>
                </div>

                <div class="summary-section">
                    <h4>Payment Method</h4>
                    <div id="summary-payment"></div>
                </div>

                <div class="summary-total">
                    <span>Total Amount</span>
                    <span id="summary-total-price">0 AED</span>
                </div>

                <button id="btn-confirm-booking" class="btn btn-primary">Confirm Booking</button>
            </div>
        </section>

        <!-- Screen 8: Confirmation -->
        <section id="screen-confirmation" class="screen">
            <div class="screen-content center-content">
                <canvas id="confetti-canvas" class="confetti-canvas"></canvas>

                <div class="success-animation" id="success-animation">
                    <svg viewBox="0 0 64 64" width="100" height="100" class="success-icon-svg">
                        <circle fill="#48bb78" cx="32" cy="32" r="30" class="success-circle"/>
                        <path class="success-check" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M20 32l8 8 16-16"/>
                    </svg>
                </div>

                <h2>Booking Confirmed!</h2>
                <p class="subtitle">Your car wash has been scheduled</p>

                <div class="booking-ref">
                    <span>Booking Reference</span>
                    <strong id="booking-reference">MG-XXXXXX</strong>
                </div>

                <div class="confirmation-details">
                    <p id="confirm-datetime"></p>
                    <p id="confirm-location"></p>
                </div>

                <div class="contact-buttons">
                    <a href="https://wa.me/971554995611" class="btn btn-whatsapp" target="_blank">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        WhatsApp Us
                    </a>
                    <a href="tel:+971554995611" class="btn btn-call">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                        Call Us
                    </a>
                </div>

                <button id="btn-new-booking" class="btn btn-secondary">Back to Home</button>
            </div>
        </section>

        <!-- Screen: Track Booking -->
        <section id="screen-track" class="screen has-navbar">
            <div class="screen-content">
                <div class="header">
                    <h2>Track Booking</h2>
                    <p class="subtitle">Live tracking of your service</p>
                </div>

                <div id="track-empty" class="empty-state">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <circle fill="#e2e8f0" cx="32" cy="24" r="12"/>
                        <path fill="#cbd5e0" d="M32 38c-8 0-24 4-24 12v6h48v-6c0-8-16-12-24-12z"/>
                    </svg>
                    <p>No active bookings to track</p>
                    <button class="btn btn-primary" onclick="startNewBooking()">Book Now</button>
                </div>

                <div id="track-content" class="track-content hidden">
                    <div class="track-map-placeholder">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path fill="#1a365d" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <p>Map view coming soon</p>
                    </div>

                    <div class="track-info-card">
                        <div class="track-header">
                            <span class="track-ref" id="track-booking-ref">MG-XXXXXX</span>
                            <span class="track-status" id="track-status">In Progress</span>
                        </div>

                        <div class="track-timeline">
                            <div class="timeline-item completed">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>Booking Confirmed</strong>
                                    <span id="track-time-1">10:30 AM</span>
                                </div>
                            </div>
                            <div class="timeline-item completed">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>Washer Assigned</strong>
                                    <span id="track-time-2">10:35 AM</span>
                                </div>
                            </div>
                            <div class="timeline-item active">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>On the Way</strong>
                                    <span id="track-time-3">ETA: 15 mins</span>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>Arrived</strong>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>Washing in Progress</strong>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <strong>Completed</strong>
                                    <span>-</span>
                                </div>
                            </div>
                        </div>

                        <div class="track-washer">
                            <div class="washer-avatar">
                                <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <div class="washer-info">
                                <strong>Ahmed</strong>
                                <span>Your Car Washer</span>
                            </div>
                            <a href="tel:+971554995611" class="btn-icon">
                                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Screen: Booking History -->
        <section id="screen-history" class="screen has-navbar">
            <div class="screen-content pull-to-refresh-container">
                <div class="pull-to-refresh">
                    <div class="ptr-spinner"></div>
                    <span>Pull to refresh</span>
                </div>

                <div class="header">
                    <h2>Booking History</h2>
                    <p class="subtitle">Your past and upcoming bookings</p>
                </div>

                <div id="history-skeleton" class="skeleton-container">
                    <div class="skeleton-card">
                        <div class="skeleton skeleton-badge"></div>
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-text"></div>
                        <div class="skeleton skeleton-text short"></div>
                    </div>
                    <div class="skeleton-card">
                        <div class="skeleton skeleton-badge"></div>
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-text"></div>
                        <div class="skeleton skeleton-text short"></div>
                    </div>
                </div>

                <div id="history-list" class="history-list"></div>

                <div id="history-empty" class="empty-state hidden">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <rect fill="#e2e8f0" x="8" y="12" width="48" height="40" rx="4"/>
                        <path fill="#cbd5e0" d="M16 8h32v8H16z"/>
                        <rect fill="#fff" x="14" y="24" width="36" height="4" rx="2"/>
                        <rect fill="#fff" x="14" y="32" width="28" height="4" rx="2"/>
                        <rect fill="#fff" x="14" y="40" width="32" height="4" rx="2"/>
                    </svg>
                    <p>No bookings yet</p>
                    <button class="btn btn-primary" onclick="startNewBooking()">Book Your First Wash</button>
                </div>
            </div>
        </section>

        <!-- Screen: Profile -->
        <section id="screen-profile" class="screen has-navbar">
            <div class="screen-content">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path fill="#fff" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <h2 id="profile-name">Guest User</h2>
                    <p id="profile-phone">+971 XX XXX XXXX</p>
                </div>

                <div class="profile-stats">
                    <div class="stat-item">
                        <strong id="stat-bookings">0</strong>
                        <span>Bookings</span>
                    </div>
                    <div class="stat-item">
                        <strong id="stat-spent">0</strong>
                        <span>AED Spent</span>
                    </div>
                    <div class="stat-item">
                        <strong id="stat-points">0</strong>
                        <span>Points</span>
                    </div>
                </div>

                <div class="profile-menu">
                    <div class="menu-item" onclick="goToScreen('screen-my-cars')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>
                        <span>My Cars</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="goToScreen('screen-addresses')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <span>Saved Addresses</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="goToScreen('screen-payment-methods')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
                        <span>Payment Methods</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="goToScreen('screen-notifications')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                        <span>Notifications</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="goToScreen('screen-settings')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                        <span>Settings</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>

                <div class="profile-menu">
                    <div class="menu-item" onclick="goToScreen('screen-subscriptions')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#805ad5" d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
                        <span>Subscription Plans</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="window.open('https://wa.me/971554995611', '_blank')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#25d366" d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/></svg>
                        <span>Help & Support</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="goToScreen('screen-admin')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                        <span>Admin Dashboard</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="menu-item" onclick="showLogoutConfirm()">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#e53e3e" d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>
                        <span style="color: #e53e3e;">Logout</span>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>

                <p class="app-version">Version 1.0.0</p>
            </div>
        </section>

        <!-- Screen: Offers -->
        <section id="screen-offers" class="screen has-navbar">
            <div class="screen-content">
                <div class="header">
                    <h2>Special Offers</h2>
                    <p class="subtitle">Exclusive deals for you</p>
                </div>

                <div class="offers-list">
                    <div class="offer-card">
                        <div class="offer-badge">20% OFF</div>
                        <h3>First Booking Discount</h3>
                        <p>Get 20% off on your first car wash booking</p>
                        <span class="offer-code">Code: FIRST20</span>
                        <button class="btn btn-primary btn-small" onclick="copyPromoCode('FIRST20')">Copy Code</button>
                    </div>
                    <div class="offer-card">
                        <div class="offer-badge">FREE</div>
                        <h3>Refer a Friend</h3>
                        <p>Get a free wash when your friend books their first service</p>
                        <button class="btn btn-outline btn-small" onclick="shareApp()">Share Now</button>
                    </div>
                    <div class="offer-card coming-soon">
                        <div class="offer-badge">SOON</div>
                        <h3>Loyalty Rewards</h3>
                        <p>Earn points on every booking and redeem for free services</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Screen: Edit Booking -->
        <section id="screen-edit" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-history')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Edit Booking</h2>
                    <p class="subtitle">Modify your booking details</p>
                </div>

                <div class="edit-booking-ref">
                    <span>Booking Reference</span>
                    <strong id="edit-booking-ref"></strong>
                </div>

                <div class="form-group">
                    <label class="input-label">Select New Date</label>
                    <div id="edit-date-picker" class="date-picker"></div>
                </div>

                <div class="form-group">
                    <label class="input-label">Select New Time</label>
                    <div id="edit-time-slots" class="time-slots"></div>
                </div>

                <button id="btn-save-edit" class="btn btn-primary" disabled>Save Changes</button>
                <button id="btn-cancel-booking" class="btn btn-danger">Cancel Booking</button>
            </div>
        </section>

        <!-- Screen: Cancel Booking -->
        <section id="screen-cancel" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-history')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Cancel Booking</h2>
                    <p class="subtitle">We're sorry to see you go</p>
                </div>

                <div class="cancel-info">
                    <p>Please tell us why you're cancelling:</p>
                </div>

                <div class="cancel-reasons">
                    <label class="reason-option">
                        <input type="radio" name="cancel-reason" value="schedule_change">
                        <span>My schedule changed</span>
                    </label>
                    <label class="reason-option">
                        <input type="radio" name="cancel-reason" value="found_alternative">
                        <span>Found another service</span>
                    </label>
                    <label class="reason-option">
                        <input type="radio" name="cancel-reason" value="price">
                        <span>Price is too high</span>
                    </label>
                    <label class="reason-option">
                        <input type="radio" name="cancel-reason" value="car_not_available">
                        <span>Car not available</span>
                    </label>
                    <label class="reason-option">
                        <input type="radio" name="cancel-reason" value="other">
                        <span>Other reason</span>
                    </label>
                </div>

                <div id="cancel-other-reason" class="form-group hidden">
                    <textarea id="cancel-reason-text" class="textarea-input" placeholder="Please tell us more..."></textarea>
                </div>

                <button id="btn-confirm-cancel" class="btn btn-danger" disabled>Confirm Cancellation</button>
            </div>
        </section>

        <!-- Screen: Rate Your Wash -->
        <section id="screen-rate" class="screen">
            <div class="screen-content center-content">
                <div class="header">
                    <h2>Rate Your Experience</h2>
                    <p class="subtitle">How was your car wash?</p>
                </div>

                <div class="rating-stars">
                    <button class="star-btn" data-rating="1">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                    <button class="star-btn" data-rating="2">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                    <button class="star-btn" data-rating="3">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                    <button class="star-btn" data-rating="4">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                    <button class="star-btn" data-rating="5">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                </div>

                <p id="rating-text" class="rating-text">Tap a star to rate</p>

                <div id="rating-feedback" class="form-group hidden">
                    <textarea id="rating-comment" class="textarea-input" placeholder="Tell us more about your experience (optional)"></textarea>
                </div>

                <button id="btn-submit-rating" class="btn btn-primary" disabled>Submit Rating</button>
                <button class="btn btn-text" onclick="navigateTo('screen-history')">Skip</button>
            </div>
        </section>

        <!-- Screen: My Cars -->
        <section id="screen-my-cars" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-profile')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>My Cars</h2>
                    <p class="subtitle">Manage your vehicles</p>
                </div>

                <div id="my-cars-list" class="my-cars-list">
                    <!-- Cars will be populated dynamically -->
                </div>

                <div id="my-cars-empty" class="empty-state hidden">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <path fill="#e2e8f0" d="M52 28H12l4-12h32l4 12z"/>
                        <rect fill="#cbd5e0" x="8" y="28" width="48" height="20" rx="4"/>
                        <circle fill="#a0aec0" cx="18" cy="48" r="6"/>
                        <circle fill="#a0aec0" cx="46" cy="48" r="6"/>
                    </svg>
                    <p>No cars added yet</p>
                </div>

                <button class="btn btn-primary" onclick="showAddCarModal()">
                    <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    Add New Car
                </button>
            </div>
        </section>

        <!-- Screen: Saved Addresses -->
        <section id="screen-addresses" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-profile')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Saved Addresses</h2>
                    <p class="subtitle">Manage your locations</p>
                </div>

                <div id="addresses-list" class="addresses-list">
                    <!-- Addresses will be populated dynamically -->
                </div>

                <div id="addresses-empty" class="empty-state hidden">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <circle fill="#e2e8f0" cx="32" cy="24" r="12"/>
                        <path fill="#cbd5e0" d="M32 40c-12 0-24 6-24 12v4h48v-4c0-6-12-12-24-12z"/>
                    </svg>
                    <p>No saved addresses</p>
                </div>

                <button class="btn btn-primary" onclick="showAddAddressModal()">
                    <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    Add New Address
                </button>
            </div>
        </section>

        <!-- Screen: Payment Methods -->
        <section id="screen-payment-methods" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-profile')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Payment Methods</h2>
                    <p class="subtitle">Manage your payment options</p>
                </div>

                <div id="payment-methods-list" class="payment-methods-list">
                    <!-- Payment methods will be populated dynamically -->
                </div>

                <div id="payment-methods-empty" class="empty-state hidden">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <rect fill="#e2e8f0" x="8" y="16" width="48" height="32" rx="4"/>
                        <rect fill="#cbd5e0" x="8" y="24" width="48" height="8"/>
                        <rect fill="#a0aec0" x="14" y="38" width="20" height="4" rx="2"/>
                    </svg>
                    <p>No payment methods saved</p>
                </div>

                <button class="btn btn-primary" onclick="showAddPaymentModal()">
                    <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    Add Payment Method
                </button>
            </div>
        </section>

        <!-- Screen: Settings -->
        <section id="screen-settings" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-profile')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Settings</h2>
                    <p class="subtitle">Customize your experience</p>
                </div>

                <div class="settings-section">
                    <h4>Appearance</h4>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg>
                            <span>Dark Mode</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="dark-mode-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
                            <span>Language</span>
                        </div>
                        <select id="language-select" class="settings-select">
                            <option value="en">English</option>
                            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Notifications</h4>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                            <span>Push Notifications</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="push-notifications-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                            <span>Email Notifications</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="email-notifications-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.28-.26.36-.65.25-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"/></svg>
                            <span>SMS Reminders</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="sms-reminders-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Account</h4>
                    <div class="settings-item clickable" onclick="goToScreen('screen-change-phone')">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                            <span>Change Phone Number</span>
                        </div>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="settings-item clickable" onclick="showDeleteAccountModal()">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#e53e3e" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
                            <span style="color: #e53e3e;">Delete Account</span>
                        </div>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>About</h4>
                    <div class="settings-item">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></svg>
                            <span>App Version</span>
                        </div>
                        <span class="settings-value">1.0.0</span>
                    </div>
                    <div class="settings-item clickable" onclick="window.open('https://mobilegarage.ae/terms', '_blank')">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>
                            <span>Terms of Service</span>
                        </div>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="settings-item clickable" onclick="window.open('https://mobilegarage.ae/privacy', '_blank')">
                        <div class="settings-info">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#1a365d" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                            <span>Privacy Policy</span>
                        </div>
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#a0aec0" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- Screen: Notifications -->
        <section id="screen-notifications" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-profile')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Notifications</h2>
                    <p class="subtitle">Stay updated</p>
                </div>

                <div id="notifications-list" class="notifications-list">
                    <!-- Notifications will be populated dynamically -->
                </div>

                <div id="notifications-empty" class="empty-state hidden">
                    <svg viewBox="0 0 64 64" width="64" height="64">
                        <path fill="#e2e8f0" d="M32 8c-8 0-14 6-14 14v10l-4 4v2h36v-2l-4-4V22c0-8-6-14-14-14z"/>
                        <circle fill="#cbd5e0" cx="32" cy="52" r="6"/>
                    </svg>
                    <p>No notifications yet</p>
                </div>
            </div>
        </section>

        <!-- Screen: Subscription Plans -->
        <section id="screen-subscriptions" class="screen">
            <div class="screen-content">
                <button class="btn-back" onclick="navigateTo('screen-home')">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>

                <div class="header">
                    <h2>Subscription Plans</h2>
                    <p class="subtitle">Save more with monthly plans</p>
                </div>

                <div class="subscription-plans">
                    <div class="subscription-card">
                        <div class="subscription-badge">POPULAR</div>
                        <h3>Basic Plan</h3>
                        <div class="subscription-price">
                            <span class="price">149</span>
                            <span class="currency">AED/month</span>
                        </div>
                        <ul class="subscription-features">
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> 4 Platinum washes/month</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Save 31 AED</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Priority booking</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Flexible scheduling</li>
                        </ul>
                        <button class="btn btn-primary" onclick="subscribeToplan('basic')">Subscribe Now</button>
                    </div>

                    <div class="subscription-card featured">
                        <div class="subscription-badge">BEST VALUE</div>
                        <h3>Premium Plan</h3>
                        <div class="subscription-price">
                            <span class="price">279</span>
                            <span class="currency">AED/month</span>
                        </div>
                        <ul class="subscription-features">
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> 4 Titanium washes/month</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Save 41 AED</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Priority booking</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Free cancellation</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> 10% off extras</li>
                        </ul>
                        <button class="btn btn-primary" onclick="subscribeToPlan('premium')">Subscribe Now</button>
                    </div>

                    <div class="subscription-card">
                        <div class="subscription-badge">UNLIMITED</div>
                        <h3>VIP Plan</h3>
                        <div class="subscription-price">
                            <span class="price">499</span>
                            <span class="currency">AED/month</span>
                        </div>
                        <ul class="subscription-features">
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Unlimited washes</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> All packages included</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> VIP support</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Free cancellation</li>
                            <li><svg viewBox="0 0 24 24" width="16" height="16"><path fill="#48bb78" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> 20% off extras</li>
                        </ul>
                        <button class="btn btn-primary" onclick="subscribeToPlan('vip')">Subscribe Now</button>
                    </div>
                </div>

                <p class="subscription-note">All plans auto-renew monthly. Cancel anytime.</p>
            </div>
        </section>

        <!-- Screen: Admin Dashboard -->
        <section id="screen-admin" class="screen">
            <div class="screen-content admin-content">
                <div class="admin-header">
                    <h2>Admin Dashboard</h2>
                    <button class="btn-icon" onclick="navigateTo('screen-home')">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                    </button>
                </div>

                <!-- Admin Stats -->
                <div class="admin-stats">
                    <div class="admin-stat-card">
                        <div class="stat-icon blue">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#fff" d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                        </div>
                        <div class="stat-details">
                            <span class="stat-number" id="admin-total-bookings">0</span>
                            <span class="stat-label">Total Bookings</span>
                        </div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="stat-icon green">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#fff" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        </div>
                        <div class="stat-details">
                            <span class="stat-number" id="admin-completed">0</span>
                            <span class="stat-label">Completed</span>
                        </div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="stat-icon orange">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#fff" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        </div>
                        <div class="stat-details">
                            <span class="stat-number" id="admin-pending">0</span>
                            <span class="stat-label">Pending</span>
                        </div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="stat-icon purple">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="#fff" d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
                        </div>
                        <div class="stat-details">
                            <span class="stat-number" id="admin-revenue">0</span>
                            <span class="stat-label">Revenue (AED)</span>
                        </div>
                    </div>
                </div>

                <!-- Admin Tabs -->
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="bookings" onclick="switchAdminTab('bookings')">Bookings</button>
                    <button class="admin-tab" data-tab="washers" onclick="switchAdminTab('washers')">Washers</button>
                    <button class="admin-tab" data-tab="analytics" onclick="switchAdminTab('analytics')">Analytics</button>
                </div>

                <!-- Bookings Tab -->
                <div id="admin-tab-bookings" class="admin-tab-content active">
                    <div class="admin-filter">
                        <select id="admin-status-filter" class="select-input" onchange="filterAdminBookings()">
                            <option value="all">All Status</option>
                            <option value="upcoming">Upcoming</option>
                            <option value="completed">Completed</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                        <input type="date" id="admin-date-filter" class="text-input" onchange="filterAdminBookings()">
                    </div>
                    <div id="admin-bookings-list" class="admin-bookings-list">
                        <!-- Bookings will be populated dynamically -->
                    </div>
                </div>

                <!-- Washers Tab -->
                <div id="admin-tab-washers" class="admin-tab-content">
                    <div class="admin-washers-list">
                        <div class="washer-card">
                            <div class="washer-avatar">
                                <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <div class="washer-details">
                                <strong>Ahmed Hassan</strong>
                                <span class="washer-status available">Available</span>
                            </div>
                            <div class="washer-stats">
                                <span>12 jobs today</span>
                                <span>4.8 â˜…</span>
                            </div>
                        </div>
                        <div class="washer-card">
                            <div class="washer-avatar">
                                <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <div class="washer-details">
                                <strong>Mohammed Ali</strong>
                                <span class="washer-status busy">On Job</span>
                            </div>
                            <div class="washer-stats">
                                <span>8 jobs today</span>
                                <span>4.9 â˜…</span>
                            </div>
                        </div>
                        <div class="washer-card">
                            <div class="washer-avatar">
                                <svg viewBox="0 0 24 24" width="32" height="32"><path fill="#1a365d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <div class="washer-details">
                                <strong>Omar Khalid</strong>
                                <span class="washer-status offline">Offline</span>
                            </div>
                            <div class="washer-stats">
                                <span>0 jobs today</span>
                                <span>4.7 â˜…</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="admin-tab-analytics" class="admin-tab-content">
                    <div class="analytics-section">
                        <h4>Revenue This Week</h4>
                        <div class="chart-placeholder">
                            <div class="bar-chart">
                                <div class="bar" style="height: 40%"><span>Mon</span></div>
                                <div class="bar" style="height: 65%"><span>Tue</span></div>
                                <div class="bar" style="height: 55%"><span>Wed</span></div>
                                <div class="bar" style="height: 80%"><span>Thu</span></div>
                                <div class="bar" style="height: 70%"><span>Fri</span></div>
                                <div class="bar" style="height: 90%"><span>Sat</span></div>
                                <div class="bar" style="height: 75%"><span>Sun</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="analytics-section">
                        <h4>Popular Packages</h4>
                        <div class="package-stats">
                            <div class="package-stat">
                                <span class="package-name">Platinum</span>
                                <div class="progress-bar"><div class="progress" style="width: 65%"></div></div>
                                <span class="package-percent">65%</span>
                            </div>
                            <div class="package-stat">
                                <span class="package-name">Titanium</span>
                                <div class="progress-bar"><div class="progress" style="width: 35%"></div></div>
                                <span class="package-percent">35%</span>
                            </div>
                        </div>
                    </div>
                    <div class="analytics-section">
                        <h4>Top Locations</h4>
                        <div class="location-stats">
                            <div class="location-stat">
                                <span>Dubai</span>
                                <strong>156 bookings</strong>
                            </div>
                            <div class="location-stat">
                                <span>Sharjah</span>
                                <strong>89 bookings</strong>
                            </div>
                            <div class="location-stat">
                                <span>Ajman</span>
                                <strong>42 bookings</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation Bar -->
        <nav id="bottom-navbar" class="bottom-navbar hidden">
            <button class="nav-item active" data-screen="screen-home" onclick="navigateTo('screen-home')">
                <svg viewBox="0 0 24 24" width="24" height="24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                <span>Home</span>
            </button>
            <button class="nav-item" data-screen="screen-track" onclick="navigateTo('screen-track')">
                <svg viewBox="0 0 24 24" width="24" height="24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                <span>Track</span>
            </button>
            <button class="nav-item nav-item-center" onclick="startNewBooking()">
                <div class="nav-add-btn">
                    <svg viewBox="0 0 24 24" width="28" height="28"><path fill="#fff" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                </div>
                <span>Book</span>
            </button>
            <button class="nav-item" data-screen="screen-history" onclick="navigateTo('screen-history')">
                <svg viewBox="0 0 24 24" width="24" height="24"><path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
                <span>History</span>
            </button>
            <button class="nav-item" data-screen="screen-profile" onclick="navigateTo('screen-profile')">
                <svg viewBox="0 0 24 24" width="24" height="24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                <span>Profile</span>
            </button>
        </nav>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="spinner"></div>
            <p>Please wait...</p>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Logout Confirmation Modal -->
        <div id="logout-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideLogoutModal()"></div>
            <div class="modal-content">
                <h3>Logout</h3>
                <p>Are you sure you want to logout?</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideLogoutModal()">Cancel</button>
                    <button class="btn btn-danger" onclick="confirmLogout()">Logout</button>
                </div>
            </div>
        </div>

        <!-- Add Car Modal -->
        <div id="add-car-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideAddCarModal()"></div>
            <div class="modal-content modal-form">
                <h3>Add New Car</h3>
                <div class="form-group">
                    <label class="input-label">Car Make</label>
                    <select id="car-make" class="select-input">
                        <option value="">Select Make</option>
                        <option value="toyota">Toyota</option>
                        <option value="nissan">Nissan</option>
                        <option value="honda">Honda</option>
                        <option value="bmw">BMW</option>
                        <option value="mercedes">Mercedes</option>
                        <option value="audi">Audi</option>
                        <option value="lexus">Lexus</option>
                        <option value="porsche">Porsche</option>
                        <option value="ford">Ford</option>
                        <option value="chevrolet">Chevrolet</option>
                        <option value="other">Other</option>
                    </select>
                    <p id="car-make-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Car Model</label>
                    <input type="text" id="car-model" class="text-input" placeholder="e.g., Camry, Patrol">
                    <p id="car-model-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Plate Number</label>
                    <input type="text" id="car-plate" class="text-input" placeholder="e.g., A 12345">
                    <p id="car-plate-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Car Type</label>
                    <div class="car-type-selector">
                        <label class="car-type-option">
                            <input type="radio" name="modal-car-type" value="sedan" checked>
                            <span>Sedan</span>
                        </label>
                        <label class="car-type-option">
                            <input type="radio" name="modal-car-type" value="suv">
                            <span>SUV</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="input-label">Color (Optional)</label>
                    <input type="text" id="car-color" class="text-input" placeholder="e.g., White, Black">
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideAddCarModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="saveNewCar()">Save Car</button>
                </div>
            </div>
        </div>

        <!-- Add Address Modal -->
        <div id="add-address-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideAddAddressModal()"></div>
            <div class="modal-content modal-form">
                <h3>Add New Address</h3>
                <div class="form-group">
                    <label class="input-label">Address Label</label>
                    <input type="text" id="address-label" class="text-input" placeholder="e.g., Home, Office">
                    <p id="address-label-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Emirate</label>
                    <select id="modal-emirate" class="select-input">
                        <option value="">Select Emirate</option>
                        <option value="dubai">Dubai</option>
                        <option value="sharjah">Sharjah</option>
                        <option value="ajman">Ajman</option>
                    </select>
                    <p id="modal-emirate-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Full Address</label>
                    <textarea id="modal-address" class="textarea-input" placeholder="Building name, street, area"></textarea>
                    <p id="modal-address-error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="input-label">Additional Instructions (Optional)</label>
                    <input type="text" id="modal-instructions" class="text-input" placeholder="e.g., Gate code, parking spot">
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideAddAddressModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="saveNewAddress()">Save Address</button>
                </div>
            </div>
        </div>

        <!-- Add Payment Method Modal -->
        <div id="add-payment-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideAddPaymentModal()"></div>
            <div class="modal-content modal-form">
                <h3>Add Payment Method</h3>
                <div class="form-group">
                    <label class="input-label">Card Number</label>
                    <input type="text" id="card-number" class="text-input" placeholder="1234 5678 9012 3456" maxlength="19">
                    <p id="card-number-error" class="error-message"></p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="input-label">Expiry Date</label>
                        <input type="text" id="card-expiry" class="text-input" placeholder="MM/YY" maxlength="5">
                        <p id="card-expiry-error" class="error-message"></p>
                    </div>
                    <div class="form-group">
                        <label class="input-label">CVV</label>
                        <input type="text" id="card-cvv" class="text-input" placeholder="123" maxlength="4">
                        <p id="card-cvv-error" class="error-message"></p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="input-label">Cardholder Name</label>
                    <input type="text" id="card-name" class="text-input" placeholder="Name on card">
                    <p id="card-name-error" class="error-message"></p>
                </div>
                <label class="save-default">
                    <input type="checkbox" id="save-as-default">
                    <span>Set as default payment method</span>
                </label>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideAddPaymentModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="saveNewPaymentMethod()">Save Card</button>
                </div>
            </div>
        </div>

        <!-- Delete Account Modal -->
        <div id="delete-account-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideDeleteAccountModal()"></div>
            <div class="modal-content">
                <h3>Delete Account</h3>
                <p>Are you sure you want to delete your account? This action cannot be undone.</p>
                <div class="form-group">
                    <label class="input-label">Type "DELETE" to confirm</label>
                    <input type="text" id="delete-confirm-input" class="text-input" placeholder="DELETE">
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideDeleteAccountModal()">Cancel</button>
                    <button class="btn btn-danger" id="btn-confirm-delete" disabled onclick="deleteAccount()">Delete Account</button>
                </div>
            </div>
        </div>

        <!-- Error Modal -->
        <div id="error-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideErrorModal()"></div>
            <div class="modal-content error-modal-content">
                <div class="error-icon">
                    <svg viewBox="0 0 24 24" width="48" height="48"><path fill="#e53e3e" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                </div>
                <h3 id="error-title">Error</h3>
                <p id="error-message">Something went wrong. Please try again.</p>
                <button class="btn btn-primary" onclick="hideErrorModal()">OK</button>
            </div>
        </div>

        <!-- Success Modal -->
        <div id="success-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="hideSuccessModal()"></div>
            <div class="modal-content success-modal-content">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24" width="48" height="48"><path fill="#48bb78" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                <h3 id="success-title">Success</h3>
                <p id="success-message">Operation completed successfully.</p>
                <button class="btn btn-primary" onclick="hideSuccessModal()">OK</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
